{"version":3,"sources":["Calculator.js","index.js"],"names":["calculateHitChance","attack","ac","adv","sys","hluck","result","Number","isNaN","overZero","parseInt","Math","round","calculateCritChance","RadioDisadvantage","props","handleChange","bind","e","this","onValueChange","target","value","type","checked","name","onChange","React","Component","ValueInput","className","max","min","CheckboxInput","Calculator","state","handleAcChange","handleAttackChange","handleAdvChange","handleHluckChange","setState","likelihoodHitDnD","likelihoodHitPF","likelihoodCritDnD","likelihoodCritPF","colSpan","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.763f8b14.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Calculator.css\";\r\n\r\nfunction calculateHitChance(attack, ac, adv, sys, hluck) {\r\n  let result;\r\n  if (sys === \"DnD 5e\") {\r\n    if (adv === \"Normal\") {\r\n      result = Number(0.05);\r\n    } else if (adv === \"Advantage\") {\r\n      result = Number(0.05 + 0.95 * 0.05);\r\n    } else if (adv === \"Disadvantage\") {\r\n      result = Number(0.05 - 0.05 * 0.95);\r\n    }\r\n    if (hluck) {\r\n      result = result + 0.05 * 0.05;\r\n    }\r\n  } else {\r\n    result = Number(0);\r\n  }\r\n\r\n  if (!Number.isNaN(ac) && !Number.isNaN(attack)) {\r\n    let overZero = Number(parseInt(attack) + 20 - parseInt(ac));\r\n    if (overZero > 0) {\r\n      if (overZero > 19) {\r\n        if (overZero > 29 && sys === \"PF 2e\") {\r\n          result = Number(1);\r\n        } else {\r\n          result = Number(19 / 20);\r\n          if (sys === \"DnD 5e\") {\r\n            if (hluck) {\r\n              result = result + (19 / 20) * (1 - result);\r\n            }\r\n            if (adv === \"Advantage\") {\r\n              result = result + (19 / 20) * (1 - result);\r\n            } else if (adv === \"Disadvantage\") {\r\n              result = result - (1 / 20) * result;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        result = overZero / 20;\r\n        if (sys === \"DnD 5e\") {\r\n          if (adv === \"Advantage\") {\r\n            result = result + (1 - result) * result;\r\n          } else if (adv === \"Disadvantage\") {\r\n            result = result - result * (1 - result);\r\n          }\r\n          if (hluck) {\r\n            result = result + (1 - result) * (1 / 20);\r\n          }\r\n        }\r\n      }\r\n    } else if (sys === \"PF 2e\" && overZero > -11) {\r\n      result = Number(0.05);\r\n    }\r\n  }\r\n\r\n  return Math.round(result * 100 * 100) / 100;\r\n}\r\n\r\nfunction calculateCritChance(attack, ac, adv, sys, hluck) {\r\n  let result = Number(0);\r\n  if (sys === \"DnD 5e\") {\r\n    if (adv === \"Normal\") {\r\n      result = Number(0.05);\r\n    } else if (adv === \"Advantage\") {\r\n      result = Number(0.05 + 0.95 * 0.05);\r\n    } else {\r\n      result = Number(0.05 - 0.05 * 0.95);\r\n    }\r\n    // halflings luck gives you at 1 another chance to roll a 20\r\n    if (hluck) {\r\n      result = result + 0.05 * 0.05;\r\n    }\r\n  } else {\r\n    if (!Number.isNaN(ac) && !Number.isNaN(attack)) {\r\n      let overZero = Number(parseInt(attack) + 20 - parseInt(ac));\r\n      if (overZero > -1) {\r\n        if (overZero < 11) {\r\n          result = Number(0.05);\r\n        } else if (overZero > 29) {\r\n          result = Number(0.95);\r\n        } else {\r\n          result = (overZero - 10) / 20;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return Math.round(result * 100 * 100) / 100;\r\n}\r\n\r\nclass RadioDisadvantage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.props.onValueChange(e.target.value);\r\n  }\r\n\r\n  render() {\r\n    const value = this.props.value;\r\n    return (\r\n      <div>\r\n        <input\r\n          type=\"radio\"\r\n          value=\"Normal\"\r\n          checked={value === \"Normal\"}\r\n          name=\"adv\"\r\n          onChange={this.handleChange}\r\n        />{\" \"}\r\n        Normal\r\n        <br />\r\n        <input\r\n          type=\"radio\"\r\n          value=\"Advantage\"\r\n          checked={value === \"Advantage\"}\r\n          name=\"adv\"\r\n          onChange={this.handleChange}\r\n        />{\" \"}\r\n        Advantage\r\n        <br />\r\n        <input\r\n          type=\"radio\"\r\n          value=\"Disadvantage\"\r\n          name=\"adv\"\r\n          checked={value === \"Disadvantage\"}\r\n          onChange={this.handleChange}\r\n        />{\" \"}\r\n        Disadvantage\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass ValueInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.props.onValueChange(e.target.value);\r\n  }\r\n\r\n  render() {\r\n    const value = this.props.value;\r\n    return (\r\n      <div className=\"inputField\">\r\n        <input\r\n          type=\"number\"\r\n          value={value}\r\n          onChange={this.handleChange}\r\n          max=\"1000\"\r\n          min=\"-1000\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass CheckboxInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.props.onValueChange(e.target.value);\r\n  }\r\n  render() {\r\n    const value = this.props.value;\r\n    return (\r\n      <input type=\"checkbox\" onChange={this.handleChange} checked={value} />\r\n    );\r\n  }\r\n}\r\n\r\nclass Calculator extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { attack: \"0\", ac: \"10\", adv: \"Normal\", hluck: false };\r\n\r\n    this.handleAcChange = this.handleAcChange.bind(this);\r\n    this.handleAttackChange = this.handleAttackChange.bind(this);\r\n    this.handleAdvChange = this.handleAdvChange.bind(this);\r\n    this.handleHluckChange = this.handleHluckChange.bind(this);\r\n  }\r\n\r\n  handleAcChange(value) {\r\n    this.setState({ ac: value });\r\n  }\r\n\r\n  handleAttackChange(value) {\r\n    this.setState({ attack: value });\r\n  }\r\n\r\n  handleAdvChange(value) {\r\n    this.setState({ adv: value });\r\n  }\r\n\r\n  handleHluckChange(value) {\r\n    this.setState({ hluck: !this.state.hluck });\r\n  }\r\n\r\n  render() {\r\n    const ac = this.state.ac;\r\n    const attack = this.state.attack;\r\n    const adv = this.state.adv;\r\n    const hluck = this.state.hluck;\r\n    const likelihoodHitDnD = calculateHitChance(\r\n      attack,\r\n      ac,\r\n      adv,\r\n      \"DnD 5e\",\r\n      hluck\r\n    );\r\n    const likelihoodHitPF = calculateHitChance(\r\n      attack,\r\n      ac,\r\n      \"Normal\",\r\n      \"PF 2e\",\r\n      false\r\n    );\r\n    const likelihoodCritDnD = calculateCritChance(\r\n      attack,\r\n      ac,\r\n      adv,\r\n      \"DnD 5e\",\r\n      hluck\r\n    );\r\n    const likelihoodCritPF = calculateCritChance(\r\n      attack,\r\n      ac,\r\n      \"Normal\",\r\n      \"PF 2e\",\r\n      false\r\n    );\r\n\r\n    return (\r\n      <div className=\"calculator\">\r\n        <table className=\"calc-input-table\">\r\n          <tbody>\r\n            <tr>\r\n              <th colSpan=\"4\" className=\"input-header\">\r\n                Attack Input\r\n              </th>\r\n            </tr>\r\n            <tr>\r\n              <td>Attack: </td>\r\n              <td>\r\n                <ValueInput\r\n                  value={attack}\r\n                  onValueChange={this.handleAttackChange}\r\n                />\r\n              </td>\r\n              <td>Armor Class: </td>\r\n              <td>\r\n                <ValueInput value={ac} onValueChange={this.handleAcChange} />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <table className=\"calc-result-table\">\r\n          <colgroup className=\"colgroup-result\" />\r\n          <tbody>\r\n            <tr>\r\n              <th>Dungeons & Dragons 5e</th>\r\n              <th>Pathfinder 2e</th>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div className=\"adv-radio\">\r\n                  <RadioDisadvantage\r\n                    onValueChange={this.handleAdvChange}\r\n                    value={adv}\r\n                  />\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div className=\"adv-radio\">\r\n                  <CheckboxInput\r\n                    value={hluck}\r\n                    onValueChange={this.handleHluckChange}\r\n                  />{\" \"}\r\n                  Halflings Luck\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>DnD Hit: {likelihoodHitDnD} %</div>\r\n              </td>\r\n              <td>\r\n                <div>PF Hit: {likelihoodHitPF} %</div>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div>DnD Crit: {likelihoodCritDnD} %</div>\r\n              </td>\r\n              <td>\r\n                <div>PF Crit: {likelihoodCritPF} %</div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Calculator;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n//import reportWebVitals from \"./reportWebVitals\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Calculator from \"./Calculator\";\n\n\n\nReactDOM.render(<Calculator />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}